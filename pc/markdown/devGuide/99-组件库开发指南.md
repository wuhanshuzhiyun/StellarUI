# 组件库开发指南

## 组件开发
1. 组件以ste为前缀 - 分隔
2. 组件版本更新，发布该版本更新说明
3. 使用vue doc功能，方便使用BuilderX开发时，在其它文件，使用组件的时候，弹出代码提示。 
文档规则地址：[https://hx.dcloud.net.cn/Tutorial/Language/vuedoc](https://hx.dcloud.net.cn/Tutorial/Language/vuedoc)
4. 在组件同目录新建同名md文件，为该组件的说明文档。
5. 类名使用-连接 id使用小驼峰
6. ui库的组件不要引入stellar-ui目录外的文件，发版是不会打包入库
7. 组件 vue doc文档例子 具体内容按需修改
```javascript
import utils from '../../utils/utils.js';
/**
 * search 搜索框
 * @description 搜索框组件
 * @tutorial http://172.16.114.51:5050/pc/index/index?name=ste-search
 * @property {Number} styleType 组件类型
 * @value 1 正常搜索 {Number}
 * @value 2 点击任意区域触发事件 {Number}
 * @property {String | Number} value 默认值，支持双向绑定
 * @property {String} placeholder 占位符
 * @property {String[]} hotWords 热词列表
 * @property {Number} interval 自动切换时间间隔，单位ms，默认3000ms
 * @property {Boolean} disabled Boolean 是否禁用
 * @property  {Number} showLine 是否显示分割线
 * @value 0 不显示 {Number}
 * @value 1 显示 {Number}
 * @property {Number} showButton 是否显示按钮 0-不显示 1-显示
 * @property {String} buttonText 按钮文字
 * @property {Number} showClear 是否显示清除图标 0-不显示 1-显示
 * @event {Function} search 搜索事件
 * @event {Function} input 输入事件
 * @event {Function} navAddress 跳转事件
 */
```


## 组件文档规范
1. 公共内容
	- 需要用到公共内容的，在markdown文档中使用模版的方式插入既有的markdown公共模板
	- 公共模板放在stellar-ui/template目录下，只能使用英字母命名
	- 在文档中插入模板时不要有空格
	- 模板必须单独占一行，不能有其他标记包裹
	- 例如：插入兼容性
```markdown
{{compatibility}}
```  

2. 说明顺序，属性介绍，属性列表 事件列表 插槽  

## ui库发版
组件库路径：
```
uni_modules/stellar-ui/
```
1. 修改npm库的源为私有源的地址
```bash
npm config set registry http://172.16.109.59:8010/repository/npm-group/
```
2. 修改package.json中版本号version（如1.0.0），version由3段组成，第一段为大版本，第二段为阶段更新版本，第三段为当前版本上进行热更新的版本，平常发版只需要修改第二段即可。
3. 修改完版本号后，在/uni_modules/stellar-ui/目录下执行命令 先登录，再发版
```bash
npm login 
```
```bash
npm publish
```
## ui库在线网站更新
1. 打包ui库代码为h5应用，填写网站标题，发行。如果提示不是项目成员，则让管理人员添加为项目成员。
2. 打包生成的文件在/unpackage/dist/build/h5下。
3. 下载mobaxterm软件连接服务器，软件下载地址：[https://download.mobatek.net/2362023122033030/MobaXterm_Installer_v23.6.zip](https://download.mobatek.net/2362023122033030/MobaXterm_Installer_v23.6.zip)
4. 使用mobaxterm里ssh服务连接服务器
登录网站服务器：ip：172.16.114.51 账号，密码见群公告
![](https://image.whzb.com/chain/StellarUI/登录ssh.png)
5. 登录成功后，将根目录下/www/stellar-ui/ 目录下的文件全部删除，将打包生成的文件全部上传，即更新成功。
![](https://image.whzb.com/chain/StellarUI/删除文件.png)
